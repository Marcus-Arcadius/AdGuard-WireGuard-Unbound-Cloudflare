# ![logo](https://i.imgur.com/zqJELkl.png)

<p align="center">
 <img src="https://img.shields.io/badge/License-MIT-blue.svg">
 <img src="https://badges.frapsoft.com/os/v3/open-source.svg?v=103">
 <img src="http://ForTheBadge.com/images/badges/built-with-love.svg">
 <img src="https://img.shields.io/badge/badges-awesome-green.svg">
 <img src="https://img.shields.io/badge/Stay-Safe-red?logo=data:image/svg%2bxml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNTEwIDUxMCIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCA1MTAgNTEwIiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnPjxnPjxwYXRoIGQ9Im0xNzQuNjEgMzAwYy0yMC41OCAwLTQwLjU2IDYuOTUtNTYuNjkgMTkuNzJsLTExMC4wOSA4NS43OTd2MTA0LjQ4M2g1My41MjlsNzYuNDcxLTY1aDEyNi44MnYtMTQ1eiIgZmlsbD0iI2ZmZGRjZSIvPjwvZz48cGF0aCBkPSJtNTAyLjE3IDI4NC43MmMwIDguOTUtMy42IDE3Ljg5LTEwLjc4IDI0LjQ2bC0xNDguNTYgMTM1LjgyaC03OC4xOHYtODVoNjguMThsMTE0LjM0LTEwMC4yMWMxMi44Mi0xMS4yMyAzMi4wNi0xMC45MiA0NC41LjczIDcgNi41NSAxMC41IDE1LjM4IDEwLjUgMjQuMnoiIGZpbGw9IiNmZmNjYmQiLz48cGF0aCBkPSJtMzMyLjgzIDM0OS42M3YxMC4zN2gtNjguMTh2LTYwaDE4LjU1YzI3LjQxIDAgNDkuNjMgMjIuMjIgNDkuNjMgNDkuNjN6IiBmaWxsPSIjZmZjY2JkIi8+PHBhdGggZD0ibTM5OS44IDc3LjN2OC4wMWMwIDIwLjY1LTguMDQgNDAuMDctMjIuNjQgNTQuNjdsLTExMi41MSAxMTIuNTF2LTIyNi42NmwzLjE4LTMuMTljMTQuNi0xNC42IDM0LjAyLTIyLjY0IDU0LjY3LTIyLjY0IDQyLjYyIDAgNzcuMyAzNC42OCA3Ny4zIDc3LjN6IiBmaWxsPSIjZDAwMDUwIi8+PHBhdGggZD0ibTI2NC42NSAyNS44M3YyMjYuNjZsLTExMi41MS0xMTIuNTFjLTE0LjYtMTQuNi0yMi42NC0zNC4wMi0yMi42NC01NC42N3YtOC4wMWMwLTQyLjYyIDM0LjY4LTc3LjMgNzcuMy03Ny4zIDIwLjY1IDAgNDAuMDYgOC4wNCA1NC42NiAyMi42NHoiIGZpbGw9IiNmZjRhNGEiLz48cGF0aCBkPSJtMjEyLjgzIDM2MC4xMnYzMGg1MS44MnYtMzB6IiBmaWxsPSIjZmZjY2JkIi8+PHBhdGggZD0ibTI2NC42NSAzNjAuMTJ2MzBoMzYuMTRsMzIuMDQtMzB6IiBmaWxsPSIjZmZiZGE5Ii8+PC9nPjwvc3ZnPg==">

</p>
 <p align="center">
     <a href="https://img.shields.io/github/stars/trinib/AdGuard-WireGuard-Unbound-Cloudflare?color=FFD700&style=for-the-badge" alt="GitHub Repo stars">
         <img src="https://img.shields.io/github/stars/trinib/AdGuard-WireGuard-Unbound-Cloudflare?color=FFD700&style=for-the-badge"></a>
     <a href="https://img.shields.io/github/forks/trinib/AdGuard-WireGuard-Unbound-Cloudflare?color=00a671&style=for-the-badge" alt="GitHub forks">
         <img src="https://img.shields.io/github/forks/trinib/AdGuard-WireGuard-Unbound-Cloudflare?color=00a671&style=for-the-badge"></a>
     <a href="https://img.shields.io/github/watchers/trinib/AdGuard-WireGuard-Unbound-Cloudflare?color=9700b2&style=for-the-badge" alt="GitHub watchers">
         <img src="https://img.shields.io/github/watchers/trinib/AdGuard-WireGuard-Unbound-Cloudflare?color=9700b2&style=for-the-badge"></a>
</p>

<p align="center">
 <img src="https://raw.githubusercontent.com/trinib/AdGuard-WireGuard-Unbound-Cloudflare/main/assets/images/awcu.gif" width= "700">

<h1 align="center"><b>A step by step ğŸ“œ guide for these</b> 
<h1 align="center"><b> ğŸ…µğŸ†ğŸ…´ğŸ…´ network ğŸ“¡ security projects to work together on a</b>
<h1 align="center"><b>ğ“¡ ğ“ ğ“¢ ğ“Ÿ ğ“‘ ğ“” ğ“¡ ğ“¡ ğ“¨ â„™ ğ•€ ğŸ¥§</b></h1>

#### _<a href="https://github.com/AdguardTeam/AdGuardHome/blob/master/README.md"><b>å¹¿å‘Šå«å£«</b></a>_â«¸ å®¶ä¸­è®¾å¤‡çš„å¹¿å‘Šæ‹¦æˆªå™¨ï¼ˆ<a href="https://github.com/AdguardTeam/AdGuardHome/blob/master/README.md#how-does-adguard-home-compare-to-pi-hole"><b>_AdGuard ä¸ Pi-Hole ç›¸æ¯”_</b></a>)

#### _<a href="https://www.wireguard.com/"><b>çº¿å«</b></a>_â«¸ å¯ä»ä»»ä½•å¤–éƒ¨ç½‘ç»œè®¿é—®çš„å®¶ä¸­ Vpn æœåŠ¡å™¨ï¼ˆIPv4 å’Œ IPv6ï¼‰

#### _<a href="https://www.nlnetlabs.nl/projects/unbound/about/"><b>æœªç»‘å®š</b></a>ä¸ &lt;a href="[HTTPS://DNS privacy.org/DNS_privacy_daemon](https://dnsprivacy.org/dns_privacy_daemon)_-_ç²—çŸ­/about_stubby/"><b>ç²—çŸ­</b></a>_â«¸ ä¸€ä¸ªéªŒè¯ã€é€’å½’ã€ç¼“å­˜çš„ DNS è§£æå™¨

#### _<a href="https://www.cloudflare.com/learning/what-is-cloudflare/"><b>Cloudflare</b></a>_â«¸ æµè§ˆç½‘ç«™æ—¶æ›´å¥½çš„æ€§èƒ½å’Œå®‰å…¨æ€§ï¼ˆDoT & DoHï¼‰

* * *

# 

<h1 align="center">ğŸ§ª Speed results with <a href="https://docs.oracle.com/en-us/iaas/Content/DNS/Tasks/testingdnsusingdig.htm"><b>BIND's DNS Tool </b></a> ğŸ§ª</h1>

<b>ä»¥æ¯«ç§’ä¸ºå•ä½çš„æŸ¥è¯¢æ—¶é—´ (google.com)ï¼š</b>

-   Adguard é»˜è®¤ DNS è§£æå™¨ -`60-70 msec`
-   å…¬å…± Cloudflare/Quad9/Google DNS è§£æå™¨ -`50-70 msec`
-   æ­¤è®¾ç½®/é…ç½® -`5-10 msec`

<details><summary><b>ğŸ¥Video PreviewsğŸ¥<img src="https://media.giphy.com/media/WT5h7PgVSScLLKtMaS/giphy.gif" width=50px height=40px></b></summary>
<p>

### ã€Adguardé»˜è®¤DNSã€‘<i>VS</i>â­è¿™ä¸ªè®¾ç½®â­ï¼š

[HTTPS://user-images.GitHub user content.com/18756975/150230438-ä¸767å“¦86å‘-4å“¦18-4791-ä¸5ä»½é¢-0813615å•Š37å•Š3.é—¨ç¥¨4](https://user-images.githubusercontent.com/18756975/150230438-b767e86f-4e18-4791-b5fe-0813615a37a3.mp4)

### å…¬å…±ã€cloudflare/quad9/googleã€‘DNSè§£æå™¨ï¼š

[HTTPS://user-images.GitHub user content.com/18756975/150319049-3çš„8ACD C9-624å‘-4ä¸60-8å“¦å“¦2-ä¸80227522252.é—¨ç¥¨4](https://user-images.githubusercontent.com/18756975/150319049-3d8acdc9-624f-4b60-8ee2-b80227522252.mp4)

</p>
 </details>

* * *

<h4><p align="center">
â°Last Checked : 25 Feb 2022â°</h2>

<div align="center">

| Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â é¡¹ç›®Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  | Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â çŠ¶æ€Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  |
| :--------------------------------------------------------: | :----------------------------------------------------: |
|                         AdGuard ä¸»é¡µ                         |                            âœ…                           |
|                             æœªç»‘å®š                            |                            âœ…                           |
|                         Cloudflare                         |                            âœ…                           |
|                             ç²—çŸ­                             |                            âœ…                           |
|                             çº¿å«                             |                            âœ…                           |

</div>
<div>

# 

# å†…å®¹

-   <a href="https://git.io/About">å…³äº</a><img src="https://github.com/seanprashad/slackmoji/blob/master/emoji/parrots/party-nyan.gif" width=20px height=20px>
-   <a href="https://github.com/trinib/AdGuard-WireGuard-Unbound-Cloudflare/discussions">è®¨è®º/å¸¸è§é—®é¢˜è§£ç­”</a><img src="https://github.com/seanprashad/slackmoji/blob/master/emoji/party/party-speech-balloon.png" width=20px height=20px>
-   [è¦æ±‚](#requirements)
-   [å®‰è£… Pi æ“ä½œç³»ç»Ÿ](#installing-os-image-to-sdcard-)<img src="https://www.vectorlogo.zone/logos/raspberrypi/raspberrypi-icon.svg" width=20px height=20px>
    -   [ç™»å½• Pi ç³»ç»Ÿ \[Headless\]](#-logging-into-pi-system-headlessly-)
-   [å®‰è£… AdGuard](#adguard-install-)<img src="https://www.vectorlogo.zone/logos/adguard/adguard-icon.svg" width=20px height=20px>
    -   [è®¾ç½®æ‚¨çš„è®¾å¤‡ä»¥ä½¿ç”¨ Adguard](#-set-up-your-devices-to-work-with-adguard-)
    -   [è®¾ç½® AdGuard é˜»æ­¢åˆ—è¡¨](#-setting-up-adguard-blocklist-)
        -   [ä¸€æ¬¡å°†å¤šä¸ª URL æ·»åŠ /åˆ é™¤åˆ°é˜»æ­¢åˆ—è¡¨](#-addremove-multiple-urls-)
-   [å®‰è£…æœªç»‘å®š](#unbound-install-)<img src="https://www.privacyguides.org/assets/img/legacy_svg/3rd-party/unbound.svg" width=20px height=20px>
-   [å®‰è£… Cloudflare](#cloudflare-install-)<img src="https://www.vectorlogo.zone/logos/cloudflare/cloudflare-icon.svg" width=20px height=20px>
    -   [å®‰è£… Cloudflare (DoH)](#-install-cloudflare-on-pi-with-doh-)
    -   [åœ¨æœªç»‘å®š (DoT) ä¸Šé…ç½® Cloudflare](#-configure-cloudflare-on-unbound-with-dot-)
    -   [é…ç½® Stubbyï¼ˆTLS è½¬å‘å™¨ï¼‰](#-configure-stubby-for-unbound-)
    -   [Configure AdGuard with Cloudflare (DoH&DoT)](#-configure-adguard-with-cloudflaredohdot-)
-   [å®‰è£… WireGuard](#wireguard-install-)<img src="https://www.vectorlogo.zone/logos/wireguard/wireguard-icon.svg" width=20px height=20px>è¦ä¹ˆ<a href="https://github.com/trinib/Adguard-Wireguard-Unbound-Cloudflare/blob/main/OpenVPN-Setup.md">OpenVPNï¼ˆè¾ƒæ…¢ï¼‰</a><img src="https://i.imgur.com/Agstbe5.png" width=20px height=20px>
    -   [è¿æ¥åˆ° VPN åˆ° Android/IOS æ‰‹æœº](#-connecting-to-the-vpn-to-androidios-phone-)
    -   [ä» PC è¿æ¥åˆ° VPN (Windows)](#-connecting-to-the-vpn-from-a-pc-windows-)
    -   [ä½¿ç”¨ AdGuard/Unbound/Cloudflare é…ç½® Wireguard](#-configure-wireguard-with-adguardunboundcloudflare-)
        -   [é™åˆ¶æµé‡](#limit-traffic)
        -   [IPv6 è®¾ç½®](#ipv6)
-   <a href="https://github.com/trinib/AdGuard-WireGuard-Unbound-Cloudflare/blob/main/Disable-All-IPv6.md">ç¦ç”¨æ‰€æœ‰ IPv6</a>
-   [æµ‹è¯•VPN](#how-do-you-know-if-wireguard-vpn-is-really-working-)<img src="https://i.imgur.com/6Yf8Zra.png" width=20px height=20px>
-   [è‡ªåŠ¨æ›´æ–°ä½ çš„ Pi](#auto-update-pi-)
-   [å»¶é•¿ SD å¡çš„æ½œåœ¨ä½¿ç”¨å¯¿å‘½](#log2ram-install-)
-   [å…³é—­ Pi LED](#turn-off-pi-led-lights-)
-   [ä¿æŠ¤æ‚¨çš„æ ‘è“æ´¾](#secure-your-raspberry-pi-)
-   [å­˜å‚¨åº“èµ„æº](#repository-resources)<img src="https://github.com/seanprashad/slackmoji/blob/master/emoji/party/party-books.png" width=20px height=20px>

# 

# è¦æ±‚

-   Raspberry Pi 3 æˆ– 4 ç‰ˆæœ¬
-   æ”¯æŒç«¯å£è½¬å‘çš„è·¯ç”±å™¨ï¼ˆå¤§å¤šæ•°å¯ä»¥ï¼‰
-   MicroSD USB è¯»å¡å™¨
-   MicroSD å¡ï¼ˆ8GB æˆ–æ›´å¤§ï¼Œè‡³å°‘ Class 4ï¼‰
-   ä»¥å¤ªç½‘ç”µç¼†
-   ï¼ˆå¦‚æœä½¿ç”¨æ˜¾ç¤ºå™¨ï¼Œåˆ™å¯é€‰ï¼‰MicroHDMI-(RPi 4) æˆ– HDMI-(RPi 3)

    # 

    <p align="center">
      <b><img src="https://github.com/seanprashad/slackmoji/blob/master/emoji/party/party-footprints.png" width=20px height=20px> STEP 1 <img src="https://github.com/seanprashad/slackmoji/blob/master/emoji/party/party-footprints.png" width=20px height=20px></b>

<h1 align="center"><b><i>Installing OS Image To SDcard</b></i> </h1>

æœ¬æ•™ç¨‹åŸºäº Raspberry Pi OSï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½• linux<a href="https://github.com/thibmaek/awesome-raspberry-pi#os-images"><b>æ“ä½œç³»ç»Ÿ</b></a>ï¼ˆ32 ä½æˆ– 64 ä½ï¼‰å’Œæ‚¨å–œæ¬¢çš„ç¡¬ä»¶ï¼Œå¹¶è¿›è¡Œä¸€äº›è°ƒæ•´_**å¦‚æœä½ çŸ¥é“ä½ åœ¨åšä»€ä¹ˆ**_ï¼ ï¼ˆRaspberry Pi OS æœ€ç®€å•ï¼Œæ¨èç»™ Pi æˆ–æ›´æœ‰ç»éªŒçš„ç”¨æˆ·ï¼Œ_é¥®é£Ÿæ´¾æ“ä½œç³»ç»Ÿ_ä¹Ÿæ¨èï¼‰ã€‚

Raspberry Pi OS æœ‰æ¡Œé¢ç‰ˆå’Œç²¾ç®€ç‰ˆï¼ˆç²¾ç®€ç‰ˆä»…ç”¨äºæ— å¤´æ¨¡å¼ï¼‰ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ˜¾ç¤ºå™¨/é”®ç›˜/é¼ æ ‡è®¾ç½® Raspberry Piï¼Œæˆ–è€…ä»ç»ˆç«¯â€œæ— å¤´â€è®¾ç½®ã€‚

å®‰è£…balenEtcherå¹¶ä¸‹è½½pié•œåƒå†™å…¥microSDå¡ã€‚

-   download raspberry P iOS:[HTTPS://å‘œå‘œå‘œ.raspberryçš®.org/software/operating-systems/](https://www.raspberrypi.org/software/operating-systems/)

-   ä¸‹è½½whaleEtcherï¼š[HTTPS://å‘œå‘œå‘œ.æ‹”äº†é‚£.IO/etcher/](https://www.balena.io/etcher/)

åœ¨ä½ æ‹¥æœ‰ä¹‹å`Etcher`å®‰è£…å’Œ`Raspberry Pi OS`æ–‡ä»¶ä¸‹è½½åˆ°æ‚¨çš„è®¡ç®—æœºä¸Šï¼Œæ‚¨ç°åœ¨å¯ä»¥å°†å¸¦æœ‰ microSD USB è¯»å¡å™¨çš„ SD å¡æ’å…¥æ‚¨çš„è®¡ç®—æœºã€‚

å¯åŠ¨ Etcher å¹¶é€‰æ‹©æ‚¨ä¸‹è½½çš„ Raspberry Pi OS æ˜ åƒï¼Œé€‰æ‹©æ‚¨çš„ microSD å¡å¹¶å•å‡»â€œFlashâ€ã€‚

<p align="center">
 <img src="https://i.imgur.com/tbB3VIK.jpg">

åˆ·æœºå®Œæˆåï¼Œåœ¨â€œThis PCâ€ä¸­æŸ¥æ‰¾ç£ç›˜åç§°â€œboot or usb driveâ€ï¼ˆå¦‚æœæ²¡æœ‰çœ‹åˆ°ï¼Œè¯·é‡æ–°æ’å…¥ USB è¯»å¡å™¨ï¼‰ã€‚è½¬åˆ°è¯¥ç£ç›˜ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º**_`ssh without 'txt' extention`_**.è¯·æ³¨æ„ï¼Œå®ƒä¸æ˜¯â€œssh.txtâ€ï¼Œè€Œæ˜¯æ²¡æœ‰æ‰©å±•åçš„â€œsshâ€ã€‚å¦‚æœæ‚¨æ²¡æœ‰çœ‹åˆ°å®ƒä»¬ï¼Œæ‚¨éœ€è¦ç¦ç”¨æ–‡ä»¶èµ„æºç®¡ç†å™¨é€‰é¡¹ä¸­çš„â€œéšè—å·²çŸ¥æ–‡ä»¶ç±»å‹çš„æ‰©å±•åâ€é€‰é¡¹ã€‚

<p align="center">
 <img src="https://i.imgur.com/eV6uMbz.jpg">

ç°åœ¨å°† SD å¡æ”¾å…¥ Raspberry Piï¼Œæ’å…¥ä»¥å¤ªç½‘ç”µç¼†å¹¶å¯åŠ¨ã€‚

## â•¸ ç™»å½• Pi ç³»ç»Ÿ[æ— å¤´]â•¸

-   ç°åœ¨ä½ éœ€è¦ç­‰å¾… pi çš„ç¬¬ä¸€æ¬¡å¯åŠ¨

-   æ‰“å¼€æµè§ˆå™¨å¹¶ç™»å½•è·¯ç”±å™¨çš„é¢æ¿é¡µé¢

-   æŸ¥æ‰¾è¿æ¥åˆ°æ‚¨çš„ç½‘ç»œçš„æ‰€æœ‰è®¾å¤‡çš„åˆ—è¡¨å¹¶å¤åˆ¶ Raspberry Pi çš„ IP åœ°å€ï¼ˆå®ƒå¾ˆå¯èƒ½æœ‰ä¸»æœºå`raspberrypi`)

-   åœ¨ä¸»æœºä¸Šæ‰“å¼€ç»ˆç«¯ã€‚æ‚¨å¯ä»¥åœ¨ Windows ä¸Šä½¿ç”¨ PowerShell æˆ–åœ¨ Android ä¸Šä½¿ç”¨ RaspController

é”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

    ssh pi@pi's ip address

æ‚¨å¯ä»¥ä½¿ç”¨é¼ æ ‡å³é”®åœ¨ Windows PowerShell ä¸­ç²˜è´´æ–‡æœ¬ã€‚

æŒ‡çº¹é—®é¢˜è¾“å…¥â€œyesâ€ï¼Œå¯†ç è¾“å…¥â€œraspberryâ€ã€‚åœ¨ linux ç•Œé¢è¾“å…¥æ—¶å¯†ç å°†ä¸å¯è§ã€‚ä½ å¯ä»¥è¾“å…¥**_`sudo passwd pi`_**æ›´æ”¹å¯†ç ã€‚

<p align="center">
 <img src="https://i.imgur.com/Wf30jxG.jpg">

åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼š

    sudo apt update -y && sudo apt upgrade -y

__ç­‰å¾…æ›´æ–°å®Œæˆå¹¶é‡æ–°å¯åŠ¨ PIã€‚ç„¶åç»§ç»­ä¸‹ä¸€æ­¥__.....

    sudo reboot

**[â¬† è¿”å›é¡¶éƒ¨ â¬†](#contents)**

# 

<p align="center">
 <b><img src="https://github.com/seanprashad/slackmoji/blob/master/emoji/party/party-footprints.png" width=20px height=20px> STEP 2 <img src="https://github.com/seanprashad/slackmoji/blob/master/emoji/party/party-footprints.png" width=20px height=20px></b>

<h1 align="center"><b><i>AdGuard Install</b></i> </h1>

è¿™ä¸ªå®‰è£…è„šæœ¬æ¥è‡ª<a href="https://github.com/AdguardTeam/AdGuardHome/blob/master/README.md"><b>AdGuard ä¸»é¡µ</b></a>ä¸»è¦é¡¹ç›®ã€‚å…³æ³¨ä»¥ä¿æŒæ›´æ–°ã€‚

åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

    curl -s -S -L https://raw.githubusercontent.com/AdguardTeam/AdGuardHome/master/scripts/install.sh | sh -s -- -v

-   å®‰è£…å®Œæˆåï¼Œç»ˆç«¯ä¼šå¼¹å‡ºä¸€ä¸ªçª—å£ï¼Œæ˜¾ç¤ºæŒ‡å‘æ‚¨çš„ Adguard ä¸»é¡µçš„ä¸åŒé“¾æ¥ï¼ˆå¼€å§‹ä½¿ç”¨ï¼‰

-   `IMPORTANT:`åœ¨ Listen Interfaces é€‰é¡¹ä¸­é€‰æ‹©`Eth0`ç„¶åé€‰æ‹©ä¸‹ä¸€æ­¥

<p align="center">
  <img src="https://i.imgur.com/Wa00lDp.jpg" width=580px height=690px>

-   è®¾ç½®ç”¨æˆ·åå’Œå¯†ç 

-   æ‚¨ç°åœ¨åº”è¯¥åœ¨ Adguard ä¸»é¢æ¿ä¸­

-   `IMPORTANT:`åœ¨å¸¸è§„è®¾ç½®ä¸­ï¼Œå°†â€œæŸ¥è¯¢æ—¥å¿—ä¿ç•™â€è®¾ç½®ä¸º`24 hours`ï¼ˆæˆ‘è¯»åˆ°å¯¹äºæŸäº›äººæ¥è¯´ï¼Œæ—¥å¿—ä¼šå¡«æ»¡å¹¶å‡æ…¢ pi å¹¶ä¸”æ¯æ¬¡éƒ½éœ€è¦é‡æ–°å¯åŠ¨ï¼‰

## â•¸ è®¾ç½®æ‚¨çš„è®¾å¤‡ä»¥ä½¿ç”¨ Adguard â•¸

-   å¯¹äº Android/Appleï¼Œè¯·è½¬åˆ° wifi é«˜çº§è®¾ç½®å¹¶é€‰æ‹©é™æ€é€‰é¡¹ã€‚åœ¨`DNS 1`å­—æ®µè¾“å…¥â€œpiçš„ipâ€åœ°å€

    <p align="center">
     <img src="https://i.imgur.com/nxpiqDw.jpg" width=450px height=580px>

-   é€‚ç”¨äº PC/Windows

    -   <i>IPV4</i>

        è½¬åˆ°ç½‘ç»œè®¾ç½®/æ›´æ”¹é€‚é…å™¨é€‰é¡¹å¹¶å³é”®å•å‡»å±æ€§ï¼Œç„¶åé€‰æ‹©â€œInternet åè®®ç‰ˆæœ¬ 4ï¼ˆTCP/IPv4ï¼‰â€ã€‚è¾“å…¥ pi çš„ ip åœ°å€`Preferred DNS`æœåŠ¡å™¨

    -   <i>IPV6ï¼ˆéœ€è¦`DoH`&`DoT`å¦‚æœåœ¨è·¯ç”±å™¨ä¸Šä½¿ç”¨ ipv6ï¼Œç¨ååœ¨æŒ‡å—ä¸­å·¥ä½œï¼‰</i>

        è½¬åˆ°â€œInternet åè®®ç‰ˆæœ¬ 6ï¼ˆTCP/IPv6ï¼‰â€è¾“å…¥`::1`

`OPTIONAL:`<i>æ‚¨å¯ä»¥åœ¨æ›¿ä»£å­—æ®µä¸­æ·»åŠ å¤‡ä»½ dns</i>

`BE AWARE:`<i>åœ¨ android ä¸­ï¼Œåœ¨ç¬¬äºŒä¸ªå­—æ®µä¸­æ·»åŠ å…¬å…± dns ä¼šç ´å Adguard å¹¿å‘Šæ‹¦æˆª</i>

<p align="center">
 <img src="https://i.imgur.com/8gsDk3z.jpg">

## â•¸ è®¾ç½® AdGuard é˜»æ­¢åˆ—è¡¨ â•¸

åœ¨ AdGuard ä¸»é¡µçš„è¿‡æ»¤å™¨ä¸‹ï¼Œé€‰æ‹© DNS é˜»æ­¢åˆ—è¡¨éƒ¨åˆ†ä»¥æ·»åŠ  urlã€‚

<p align="center">
 <img src="https://i.imgur.com/shrtJLD.png">

æ‚¨å¯ä»¥åœ¨ Google ä¸Šæœç´¢ä¸åŒçš„é˜»æ­¢åˆ—è¡¨ã€‚è¿™æ˜¯æˆ‘çš„è‡ªå®šä¹‰<a href="https://raw.githubusercontent.com/trinib/AdGuard-WireGuard-Unbound-Cloudflare/main/My-Blocklist.txt"><b>é»‘åå•</b></a>ä½¿ç”¨æˆ‘çš„ç½‘å€æˆ–æ ¹æ®è¿™äº›ç½‘å€æ„å»ºæ‚¨è‡ªå·±çš„ç½‘å€<a href="https://github.com/trinib/AdGuard-WireGuard-Unbound-Cloudflare/blob/main/%F0%9F%A7%B1Blocklist-Sources%E2%84%B9%EF%B8%8F"><b>æ¥æº</b></a>.

`IMPORTANT:`ä¸€äº›é˜»æ­¢åˆ—è¡¨å¯ä»¥é˜»æ­¢ä¸€äº›é‡è¦çš„å†…å®¹æˆ–ç½‘ç«™ã€‚è¦å–æ¶ˆé˜»æ­¢ï¼Œè¯·è½¬åˆ°â€œæŸ¥è¯¢æ—¥å¿—â€éƒ¨åˆ†ï¼Œç„¶åä¼šçœ‹åˆ°_è§£é™¤å°é”_å½“å…‰æ ‡æ‚¬åœåœ¨æŸ¥è¯¢ä¸Šæ—¶çš„é€‰é¡¹ï¼Œå°†æœªé˜»æ­¢çš„ç½‘ç«™æ”¾åœ¨â€œè‡ªå®šä¹‰è¿‡æ»¤è§„åˆ™â€ç¤ºä¾‹ä¸­ï¼š`@@||bitly.com^$important`.æŸ¥æ‰¾å®¢æˆ·ç«¯ IP å’Œæ—¶é—´ã€‚

<p align="center">
 <img src="https://i.imgur.com/1gZibwD.png">

## â•¸ æ·»åŠ /åˆ é™¤å¤šä¸ª URL â•¸

æ‚¨ç°åœ¨åªèƒ½åœ¨ adguard çš„ dns é˜»æ­¢åˆ—è¡¨ä¸­æ·»åŠ ä¸€ä¸ª urlï¼Œä½†æ˜¯æœ‰ä¸€ä¸ª python è„šæœ¬å¯ä»¥å°†å¤šä¸ª url æ·»åŠ åœ¨ä¸€èµ·ã€‚

æ‰“å¼€æ–°çš„ py æ–‡ä»¶ï¼ˆbulkurls.pyï¼‰ï¼š

    nano bulkurls.py

ç„¶åä»<a href="https://raw.githubusercontent.com/trinib/Adguard-Wireguard-Unbound-Cloudflare/main/bulkurls.py"><b>bulk URLæ˜¯.æœ‹å‹</b></a>æ–‡ä»¶å¹¶ä¿å­˜ï¼ˆcontrol+x ç„¶å y ç„¶åè¾“å…¥ï¼‰**éœ€è¦åœ¨æ–‡ä»¶ä¸­é…ç½®æ‚¨çš„ ADGUARD å‡­è¯**.

_å¦‚æœä½¿ç”¨**é¥®é£Ÿæ´¾**å®‰è£…`sudo apt-get install python3-pip -y && pip install requests`å› ä¸ºå®ƒé»˜è®¤ä¸å®‰è£…ã€‚_

è·‘æ­¥ ï¼š`sudo python3 bulkurls.py`

åˆ°**æ¶ˆé™¤**ä½ éœ€è¦æ”¹å˜`add`åœ¨<a href="https://github.com/trinib/AdGuard-WireGuard-Unbound-Cloudflare/blob/62ba01ed8ed3a5bc5294b9fe7ee38c3e83ae1b86/bulkurls.py#L150"><b>æœ€åä¸€è¡Œçš„ç¬¬äºŒä¸ª</b></a>åˆ°`remove`åœ¨ bulkurls.py æ–‡ä»¶ä¸­ã€‚

å»[HTTPS://çš„3Ward.GitHub.IO/too LZ/AD block.HTML](https://d3ward.github.io/toolz/adblock.html)æµ‹è¯•å¹¿å‘Šæ˜¯å¦è¢«å±è”½<img src="https://i.imgur.com/Q5oO9EY.png" width=100px height=80px>

**[â¬† è¿”å›é¡¶éƒ¨ â¬†](#contents)**

# 

<p align="center">
 <b><img src="https://github.com/seanprashad/slackmoji/blob/master/emoji/party/party-footprints.png" width=20px height=20px> STEP 3 <img src="https://github.com/seanprashad/slackmoji/blob/master/emoji/party/party-footprints.png" width=20px height=20px></b>

<h1 align="center"><b><i>Unbound Install</b></i> </h1>

åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

    sudo apt install unbound -y

For recursively querying a host that is not cached as an address, the resolver needs to start at the top of the server tree and query the root servers, to know where to go for the top level domain for the address being queried. Unbound comes with default builtin hints.

    wget -O root.hints https://www.internic.net/domain/named.root && sudo mv root.hints /var/lib/unbound/

`IMPORTANT:`è¿™éœ€è¦æ¯ 6 ä¸ªæœˆæ›´æ–°ä¸€æ¬¡ã€‚åˆ°_**è‡ªåŠ¨æ›´æ–°**_root.hints æ¯ 6 ä¸ªæœˆä½ éœ€è¦åˆ›å»ºä¸€ä¸ª cron ä½œä¸šã€‚

Enter in command line `crontab -e`ï¼Œå®ƒä¼šè¯¢é—®é€‰æ‹©ä¸€ä¸ªç¼–è¾‘å™¨ï¼ˆé€‰æ‹© 1ï¼‰å¹¶å°†è¿™äº›è¡Œç²˜è´´åˆ° crontab çš„åº•éƒ¨å¹¶ä¿å­˜ï¼ˆcontrol+x ç„¶å y ç„¶åè¾“å…¥ï¼‰ï¼š

    1 0 1 */6 * wget -O root.hints https://www.internic.net/domain/named.root
    2 0 1 */6 * sudo mv root.hints /var/lib/unbound/

_å¦‚æœä½¿ç”¨**é¥®é£Ÿæ´¾**æ‚¨éœ€è¦å®‰è£… resolvconf å¹¶é‡æ–°å¯åŠ¨ unbound-resolvconf.service ä»¥å°† unbound nameserver è®¾ç½®ä¸º 127.0.0.1 ï¼š_

    sudo apt-get install resolvconf -y && sudo systemctl restart unbound-resolvconf.service

<p align="center">
 <img src="https://i.imgur.com/26ro62t.jpg">

**[â¬† è¿”å›é¡¶éƒ¨ â¬†](#contents)**

# 

<p align="center">
 <b><img src="https://github.com/seanprashad/slackmoji/blob/master/emoji/party/party-footprints.png" width=20px height=20px> STEP 4 <img src="https://github.com/seanprashad/slackmoji/blob/master/emoji/party/party-footprints.png" width=20px height=20px></b>   

<h1 align="center"><b><i>Cloudflare Install</b></i> </h1>

## â•¸ åœ¨ Pi ä¸Šå®‰è£… Cloudflare`(DoH)`â•¸

é€šè¿‡ HTTPSï¼ˆDoHï¼‰ä½¿ç”¨ DNS å®‰è£… cloudflareï¼Œéµå¾ªè¿™äº›ğŸ‘‰<a href="https://github.com/trinib/Adguard-Wireguard-Unbound-Cloudflare/blob/main/Cloudflare-DoH-Setup.md"><b>æŒ‡ç¤º</b></a>ğŸ‘ˆ.

## â•¸ åœ¨ Unbound With ä¸Šé…ç½® Cloudflare`(DoT)`â•¸

é€šè¿‡åœ¨å‘½ä»¤æç¤ºç¬¦ä¸‹è¾“å…¥æ¥åˆ›å»ºæœªç»‘å®šçš„é…ç½®æ–‡ä»¶ï¼š

    sudo nano /etc/unbound/unbound.conf.d/unbound.conf

å¹¶å¤åˆ¶å¹¶ç²˜è´´æ‰€æœ‰æ–‡æœ¬<a href="https://raw.githubusercontent.com/trinib/Adguard-Wireguard-Unbound-Cloudflare/main/unbound.conf"><b>æœªç»‘å®šçš„.conf</b></a>æ–‡ä»¶å¹¶ä¿å­˜ï¼ˆcontrol+x ç„¶å y ç„¶åè¾“å…¥ï¼‰ã€‚

## â•¸ ä¸ºæœªç»‘å®šé…ç½® Stubby â•¸

å°† Unbound ç”¨äºç¼“å­˜ï¼Œå°† stubby ç”¨äº TLS è½¬å‘å™¨ã€‚å®‰è£…ç²—çŸ­ï¼š

    sudo apt install stubby -y

åˆ é™¤å¹¶é‡æ–°åˆ›å»º stubby.yaml æ–‡ä»¶å¹¶å¤åˆ¶/ç²˜è´´æ‰€æœ‰æ–‡æœ¬<a href="https://raw.githubusercontent.com/trinib/AdGuard-WireGuard-Unbound-Cloudflare/main/stubby.yml"><b>ğŸ‘‰è¿™ä¸ªç²—çŸ­çš„é…ç½®ğŸ‘ˆ</b></a>å¹¶ä¿å­˜ã€‚ (`cd $h`å®Œæˆåè¿”å›ä¸»æ–‡ä»¶å¤¹ï¼‰ã€‚

    cd /etc/stubby/ && sudo rm stubby.yml && sudo nano stubby.yml

-   é‡å¯ unbound & stubby å¹¶æ£€æŸ¥çŠ¶æ€ï¼š


    sudo systemctl restart unbound stubby ; systemctl status unbound stubby -l

<p align="center">
 <img src="https://i.imgur.com/7zIpWP2.jpg" width=650px height=370px>

## â•¸ é…ç½® Adguard`Cloudflare(DoH&DoT)`â•¸

-   åœ¨ AdGuard ä¸»é¡µçš„è®¾ç½®ä¸‹é€‰æ‹©â€œDns è®¾ç½®â€

-   ä»â€œUpstreamâ€å’Œâ€œBootstrap DNSâ€æœåŠ¡å™¨é€‰é¡¹ä¸­åˆ é™¤æ‰€æœ‰å†…å®¹ï¼Œå¹¶ï¼š

    -   ä¸ºäº†`DNS over TLS(DoT)`æ·»åŠ `127.0.0.1:53`åœ¨â€œä¸Šæ¸¸â€å’Œâ€œå¼•å¯¼ DNSâ€æœåŠ¡å™¨å­—æ®µä¸­
    -   ä¸ºäº†`DNS over HTTPS(DoH)`æ·»åŠ `127.0.0.1:5053`åœ¨â€œä¸Šæ¸¸â€å’Œâ€œå¼•å¯¼ DNSâ€æœåŠ¡å™¨å­—æ®µä¸­
    -   ä¸ºäº†`TLS forwarder(stubby)`æ·»åŠ `127.0.0.1:8053`åœ¨â€œä¸Šæ¸¸â€å’Œâ€œå¼•å¯¼ DNSâ€æœåŠ¡å™¨å­—æ®µä¸­

-   `IMPORTANT:`ä½ éœ€è¦æ£€æŸ¥â€œ<a href="https://adguard.com/en/blog/in-depth-review-adguard-home.html#dns"><b>å¹¶è¡Œè¯·æ±‚</b></a>" dns è§£æå™¨åŒæ—¶å·¥ä½œçš„é€‰é¡¹ã€‚

<b>å•å‡»åº”ç”¨å¹¶æµ‹è¯•ä¸Šæ¸¸</b>ï¼ˆä»…åœ¨ç¬¬ä¸€æ¬¡æµ‹è¯•ä¸­å¯èƒ½ä¼šå‡ºé”™ï¼‰ã€‚

<p align="center">
 <img src="https://i.imgur.com/Ug4Euou.jpg" width=650px height=370px>

-   ç„¶ååœ¨ DNS è®¾ç½®ä¸­æŸ¥æ‰¾ DNS ç¼“å­˜é…ç½®éƒ¨åˆ†å¹¶å°†ç¼“å­˜å¤§å°è®¾ç½®ä¸º`0`ï¼ˆç¼“å­˜å·²ç”± Unbound å¤„ç†ï¼‰å¹¶å•å‡»åº”ç”¨ã€‚

<p align="center">
 <img src="https://i.imgur.com/8Q5Zb0M.jpg" width=650px height=370px>

### `IMPORTANT:`Windows ç³»ç»Ÿå’Œ Android æµè§ˆå™¨éœ€è¦ä¸€äº›è°ƒæ•´`stabilize`dns è§£æå™¨..Linux å·¥ä½œæ­£å¸¸<i>ï¼ˆåœ¨è–„è·ä¸Šæµ‹è¯•ï¼‰</i>

### è§†çª—

-   å®‰è£…<a href="https://mayakron.altervista.org/support/acrylic/Home.htm"><b>äºšå…‹åŠ› DNS ä»£ç†</b></a>

-   å»`C:\Program Files (x86)\Acrylic DNS Proxy`å¹¶æ‰“å¼€`AcrylicConfiguration.ini`æ–‡ä»¶ã€‚åˆ é™¤æ‰€æœ‰å†…å®¹å¹¶å¤åˆ¶è¿™äº›<a href="https://raw.githubusercontent.com/trinib/AdGuard-WireGuard-Unbound-Cloudflare/main/AcrylicConfiguration.ini"><b>ğŸ‘‰è®¾ç½®ğŸ‘ˆ</b></a>åªæ”¹å˜_**ä¸»æœåŠ¡å™¨åœ°å€**_åˆ°ä½ çš„ pi çš„åœ°å€ã€‚

-   åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­è¿è¡Œ`RestartAcrylicService.bat`&`PurgeAcrylicCacheData.bat`

    `TIP:`IP/DNS å‘½ä»¤æ•…éšœæ’é™¤

        ipconfig /release
        ipconfig /renew
        ipconfig /flushdns

### å®‰å“

-   åœ¨æ‚¨ä½¿ç”¨çš„ä»»ä½•æµè§ˆå™¨ä¸­ï¼Œæ‰“å¼€**ç¦»å¼€**`Use Secure DNS`é€‰é¡¹ã€‚
-   è¯·æ³¨æ„ï¼Œä½¿ç”¨ build.prop dns è°ƒæ•´æˆ–åº”ç”¨ç¨‹åº/Magisk æ¨¡å—çš„è‡ªå®šä¹‰æ ¹ roms å’Œå†…æ ¸å¯èƒ½ä¼šå‘ç”Ÿå†²çªã€‚

#### _è€Œå·²_.ç°åœ¨å»[HTTPS://1.1.1.1/help](https://1.1.1.1/help)åœ¨æµè§ˆå™¨ä¸­ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°è¿™äº›é€‰é¡¹è¾“å‡ºâ€œæ˜¯â€ã€‚

-   [x] è¿æ¥åˆ° 1.1.1.1
-   [x] HTTPS ä¸Šçš„ DNSï¼ˆDoHï¼‰
-   [x] åŸºäº TLS çš„ DNSï¼ˆDoTï¼‰
-   [ ] åŸºäº WARP çš„ DNS
    <p align="center">
     <img src="https://i.imgur.com/2S3IH5H.jpg" width=650px height=370px>

#### å…¶ä»–æ£€æŸ¥å®‰å…¨çš„ç½‘ç«™

[HTTPS://browser leaks.com/DNS](https://browserleaks.com/dns)- åº”è¯¥æ˜¾ç¤ºæ‰€æœ‰è¿æ¥åˆ°â€œCloudflareâ€

[HTTPS://å‘œå‘œå‘œ.cloud flare.com/æ”¶è§†ç‡/encrypted-æ˜¯ä½ /](https://www.cloudflare.com/ssl/encrypted-sni/)- â€œå®‰å…¨ DNS / DNSSEC / TLS 1.3â€åº”è¯¥éƒ½æ˜¯ç»¿è‰²çš„å‹¾

[HTTPS://DNS Sec.vs.uä½ -æ¯’è›¾.çš„/](https://dnssec.vs.uni-due.de/)- åº”è¯¥è¯´â€œæ˜¯çš„ï¼Œæ‚¨çš„ DNS è§£æå™¨éªŒè¯ DNSSEC ç­¾åâ€

**[â¬† è¿”å›é¡¶éƒ¨ â¬†](#contents)**

# 

<p align="center">
 <b><img src="https://github.com/seanprashad/slackmoji/blob/master/emoji/party/party-footprints.png" width=20px height=20px> STEP 5 <img src="https://github.com/seanprashad/slackmoji/blob/master/emoji/party/party-footprints.png" width=20px height=20px></b>

<h1 align="center"><b><i>WireGuard Install</b></i> </h1>

**å®‰è£… WireGuard ä¹‹å‰**, å¦‚æœä½ æ²¡æœ‰é™æ€ ip ä½ éœ€è¦å¾—åˆ°ä¸€ä¸ªå…è´¹çš„`Dynamic DNS Subdomain`å¦åˆ™æ‚¨çš„å¤–éƒ¨ IP åœ°å€å¾ˆå¯èƒ½ç»å¸¸ä»æ‚¨çš„ ISP åŠ¨æ€æ›´æ”¹ï¼Œå› æ­¤æ‚¨éœ€è¦è®¾ç½®åŠ¨æ€ DNS æœåŠ¡ã€‚ ğŸ‘‰ğŸ‘‰**_â–“â–’â–‘ç”¨è¿™ä¸ª<a href="https://github.com/trinib/Adguard-Wireguard-Unbound-Cloudflare/blob/main/Dns-Service-Guide.md"><b>è¯´æ˜åœ¨è¿™é‡Œ</b></a>â–‘â–’â–“_**ğŸ‘ˆğŸ‘ˆã€‚å¦åˆ™è·³è¿‡è¿™ä¸€æ­¥ã€‚

æˆ‘ä»¬è¿˜éœ€è¦åœ¨æ‚¨çš„è·¯ç”±å™¨ä¸Šè®¾ç½®ç«¯å£è½¬å‘ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬çš„ç½‘ç»œä¹‹å¤–è®¿é—®wireguardï¼Œä¾‹å¦‚åœ¨å’–å•¡åº—çƒ­ç‚¹æˆ–æ‚¨çš„ç§»åŠ¨æ•°æ®ä¸­
ç±»å‹ |ä»·å€¼  
------------ \| -------------
è®¾å¤‡ | Raspberry Pi çš„ä¸»æœºåæˆ– IP
åè®® | UDP
ç«¯å£èŒƒå›´ | 51820-51820
å‡ºæ¸¯ | 51820
å…è®¸äº’è”ç½‘è®¿é—®ï¼ˆå¦‚æœæœ‰ï¼‰|æ˜¯çš„

æˆ‘çš„ğŸ‘‡è·¯ç”±å™¨ğŸ‘‡ç«¯å£è®¾ç½®ã€‚ä½ çš„å¯èƒ½ä¸åŒï¼Œä½†ä½ ä¼šæ˜ç™½çš„ã€‚è®°ä½è°·æ­ŒğŸ”æœç´¢å¼•æ“ğŸ”æ˜¯ä½ çš„æœ‹å‹ã€‚å¦‚æœæ‚¨æ— æ³•ä»å¤–éƒ¨ç½‘ç»œè¿æ¥ï¼Œè¿™æ„å‘³ç€ isp å·²é˜»æ­¢ä¼ å‡ºè¿æ¥ï¼Œæ‚¨å¯ä»¥æ‰“ç”µè¯ç»™ä»–ä»¬å¹¶å¾ˆå¥½åœ°è¯¢é—®å®ƒæ˜¯å¦æ­£å¸¸å·¥ä½œã€‚

<p align="center">
 <img src="https://i.imgur.com/9LBEk1i.jpg">

* * *

ğŸ‘Šéå¸¸æ„Ÿè°¢ğŸ‘Šè¿™ä¸ªå®‰è£…è„šæœ¬æ¥è‡ª<a href="https://github.com/Nyr/wireguard-install"><b>å°¼å°”</b></a>.å…³æ³¨ä»¥ä¿æŒæ›´æ–°ã€‚

åœ¨ç»ˆç«¯è¿è¡Œ

    wget https://git.io/wireguard -O wireguard-install.sh && sudo bash wireguard-install.sh

-   è¯¥è„šæœ¬å°†è¦æ±‚æ‚¨æä¾› VPN çš„å…¬å…± IPv4/ä¸»æœºåã€‚_å¦‚æœ_æ‚¨æœ‰é™æ€ ip ç„¶åç»§ç»­ï¼Œå¦åˆ™é”®å…¥æ‚¨ä»åˆ›å»ºçš„åŠ¨æ€ DNS åŸŸ<a href="https://github.com/trinib/Adguard-Wireguard-Unbound-Cloudflare/blob/main/Dns-Service-Guide.md"><b>æŒ‡ç¤º</b></a>.ä¾‹å¦‚ï¼štrinibvpn.freeddns.org

-   å¯¹äºç«¯å£é€‰é¡¹`press enter`é»˜è®¤ä¸º 51820ã€‚å¯¹äºå®¢æˆ·ç«¯åç§°ï¼Œåªéœ€è¾“å…¥æ‚¨æƒ³è¦çš„ä»»ä½•åç§°ï¼Œå¯¹äº DNS ä½¿ç”¨é€‰é¡¹ 3 (`1.1.1.1`ï¼‰ ç›®å‰ã€‚æˆ‘ä»¬å°†é…ç½®`adguard/unbound/cloudflare`å®‰è£…å®Œæˆåä½¿ç”¨vpn

<p align="center">
 <img src="https://i.imgur.com/WUNZIK4.jpg">

-   ç­‰å¾…å®‰è£…å®Œæˆå¹¶æ˜¾ç¤ºäºŒç»´ç ï¼Œä¸è¦å…³é—­ã€‚ä½†å¦‚æœä½ è¿™æ ·åšï¼Œ`regenerate qrcode`, è¾“å…¥ç»ˆç«¯ä½†åªæ›¿æ¢åç§°`yourclientname.conf`æ–‡ä»¶ç»™ä½ ï¼š


    sudo cp /root/yourclientname.conf /home/pi && sudo qrencode -t ansiutf8 < yourclientname.conf

`IMPORTANT:`æ‚¨éœ€è¦ä¸ºä¸ VPN ä¸€èµ·ä½¿ç”¨çš„æ¯å°è®¾å¤‡æ·»åŠ ä¸€ä¸ªæ–°ç”¨æˆ·/å®¢æˆ·ç«¯ã€‚è¦æ·»åŠ æ–°ç”¨æˆ·ï¼Œåªéœ€é‡æ–°è¿è¡Œè„šæœ¬å¹¶åˆ›å»ºå…·æœ‰ä¸åŒå®¢æˆ·ç«¯åç§°çš„ç”¨æˆ·ã€‚

## å¦‚æœä½ æƒ³ä½¿ç”¨_å¼€æ”¾å¼VPN_è¯´æ˜æ˜¯<a href="https://github.com/trinib/Adguard-Wireguard-Unbound-Cloudflare/blob/main/OpenVPN-Setup.md"><b>ğŸ‘‰è¿™é‡ŒğŸ‘ˆ</b></a>

# 

### â•¸è¿æ¥VPNåˆ°Android/IOSæ‰‹æœºâ•¸

ä» Google Play æˆ– App Store å®‰è£… WireGuard åº”ç”¨ç¨‹åº

çº¿å«ï¼ˆè°·æ­Œæ’­æ”¾ï¼‰ï¼š[HTTPS://play.Google.com/store/apps/details?ID=com.wire guard.Android](https://play.google.com/store/apps/details?id=com.wireguard.android)

Wireguardï¼ˆåº”ç”¨å•†åº—ï¼‰ï¼š[HTTPS://apps.apple.com/US/app/wire guard/ID1441195209](https://apps.apple.com/us/app/wireguard/id1441195209)

æ‚¨éœ€è¦ä½¿ç”¨ Wireguard åº”ç”¨ç¨‹åºæ‰«æç»ˆç«¯ä¸­æ˜¾ç¤ºçš„äºŒç»´ç ï¼Œé€‰æ‹©`+ button`å¹¶ä½¿ç”¨è¯¥é€‰é¡¹`Scan from QR code`å®‰è£…é…ç½®ã€‚

`IMPORTANT`ï¼š ä½¿èƒ½å¤Ÿ**å†…æ ¸æ¨¡å—åç«¯**åœ¨è®¾ç½®ä¸­

<p align="left">
 <img src="https://i.imgur.com/R4qbiOQ.jpg" width=250px height=350px>

### â•¸ ä» PC è¿æ¥åˆ° VPN (Windows) â•¸

ç”¨äºçª—æˆ·çš„ WireGuardï¼š[HTTPS://download.wire guard.com/Windows-client/wire guard-installer.exe](https://download.wireguard.com/windows-client/wireguard-installer.exe)

-   åˆ›å»ºä¸€ä¸ª`new text document`åœ¨ç”µè„‘ä¸Šä½¿ç”¨ä»»ä½•åç§°å¤åˆ¶ç²˜è´´æ¥è‡ªwireguardå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶çš„æ–‡æœ¬ã€‚

-   è¦æŸ¥çœ‹å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ä¸­çš„æ–‡æœ¬ï¼Œè¯·è¾“å…¥ç»ˆç«¯ï¼š


    sudo cat /root/yourclientname.conf

-   çªå‡ºæ˜¾ç¤ºæ‰€æœ‰æ–‡æœ¬ï¼Œå°†å…¶å¤åˆ¶å¹¶ç²˜è´´åˆ°ç”µè„‘ä¸Šçš„txtæ–‡ä»¶ä¸­å¹¶ä¿å­˜ã€‚ç„¶åå°†æ‰©å±•åé‡å‘½åä¸º`txt`åˆ°`conf`.ç°åœ¨ä½ æœ‰äº†é‚£ä¸ªwireguardå®¢æˆ·ç«¯çš„é…ç½®æ–‡ä»¶ã€‚

-   æ‚¨ç°åœ¨å¯ä»¥å°†é…ç½®æ–‡ä»¶å¯¼å…¥åˆ°wireguardï¼ˆä»æ–‡ä»¶å¯¼å…¥é€‰é¡¹ï¼‰ã€‚

## â•¸ é…ç½® WireGuard`Adguard/Unbound/Cloudflare`â•¸

_è¯·è®°ä½ï¼Œè¿™é€‚ç”¨äºå½“æ‚¨åœ¨å¤–éƒ¨ç½‘ç»œä¸Šæˆ–åœ¨å®¶ä¸­ 24/7 è¿æ¥åˆ° WireGuard VPN æ—¶ï¼Œå› ä¸ºæ‚¨å·²ç»åœ¨æ‚¨çš„è®¾å¤‡ä¸Šæ‰‹åŠ¨è®¾ç½®å’Œè¿è¡Œ AdGuard/Unbound/Cloudflareã€‚_ï¼ˆæ ¹æ®æˆ‘çš„ç»éªŒè®¾ç½®ä¸¤è€…éƒ½æ²¡æœ‰é—®é¢˜ï¼‰ã€‚

-   åœ¨wireguardåº”ç”¨ç¨‹åºä¸­ï¼Œé€‰æ‹©æ‚¨çš„éš§é“å¹¶é€‰æ‹©ç¼–è¾‘ï¼ˆå³ä¸Šè§’çš„é“…ç¬”ï¼‰

-   åœ¨ Dns æœåŠ¡å™¨ä¸‹è¾“å…¥`pi's ip`å¹¶ä¿å­˜ï¼ˆIPv4 å’Œ IPv6ï¼‰

<p align="center">
 <img src="https://i.imgur.com/UC0vWfE.jpg" width=450px height=500px>  

### é™åˆ¶æµé‡

ä½¿ç”¨ WireGuardï¼Œæ‚¨å°†å¤±å»å¤§çº¦ 50% çš„äº’è”ç½‘é€Ÿåº¦ï¼Œå¯¼è‡´é€šè¿‡ pi éš§é“ä¼ è¾“åˆ°è·¯ç”±å™¨åˆ°è®¾å¤‡çš„è¿‡ç¨‹\*\*

åˆ é™¤å…è®¸çš„ IPs "0.0.0.0/0, ::/0" é€‰é¡¹ï¼Œå› ä¸ºå®ƒå°†æ‰€æœ‰æµé‡è·¯ç”±åˆ°æ‚¨çš„å®¶åº­ç½‘ç»œï¼Œè¿™ä¼šå¾ˆæ…¢ã€‚æ‚¨åªéœ€è¦é€šè¿‡æ‚¨çš„åœ°å€å‘é€æµé‡ã€‚

-   é¦–å…ˆï¼Œæ‚¨éœ€è¦å°†å…¶æ›¿æ¢ä¸ºæ‚¨çš„ç½‘ç»œç½‘å…³ï¼Œä½†å°†æœ€åä¸€ä¸ªæ•°å­—è®¾ç½®ä¸ºé›¶å¹¶ä¸”<a href="https://www.google.com/search?q=prefix+length+explained&client=firefox-b-d&sxsrf=ALeKk036Jc9vJl73zVXf0yyZs5UlKRlNRQ%3A1621083125589&ei=9cOfYI66I5-qwbkPkdWxkAk&oq=prefix+length+explained&gs_lcp=Cgdnd3Mtd2l6EAMyBggAEAcQHjoHCCMQsAMQJzoHCAAQRxCwA1CUJ1iUJ2CiKmgBcAJ4AIABsAGIAdQCkgEDMC4ymAEAoAEBqgEHZ3dzLXdpesgBCcABAQ&sclient=gws-wiz&ved=0ahUKEwjOiOie3cvwAhUfVTABHZFqDJIQ4dUDCA0&uact=5"><b>å‰ç¼€é•¿åº¦</b></a>è‡³ 24. ä¾‹å¦‚ï¼š`192.168.1.1/24`åˆ°`192.168.1.0/24`æˆ–è€…åƒæˆ‘çš„ isp è·¯ç”±å™¨`192.168.100.1/24`åˆ°`192.168.100.0/24`.~~**ç°åœ¨æˆ‘åªæŸå¤± 25% çš„é€Ÿåº¦**ğŸ˜ï¼ˆps.ä½¿ç”¨5gç½‘ç»œï¼‰~~

`UPDATE:`åœ¨ Wireguard æ›´æ–°åï¼Œæˆ‘æ²¡æœ‰å¾—åˆ°æ›´å¿«çš„é€Ÿåº¦ï¼š( .. ä½†å®ƒä»ç„¶æœ‰æ„ä¹‰_ä¸æ˜¯_ä½¿ç”¨`"0.0.0.0/0, ::/0`æœ‰æ— çº¿ç½‘ç»œã€‚å¦‚æœæœ‰äººçŸ¥é“ä»»ä½•è°ƒæ•´ä»¥è·å¾—æå‡ï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚

<p align="center">
 <img src="https://i.imgur.com/x4m6Pbl.jpg" width=450px height=500px>

### è¯·é˜…è¯» ï¼ï¼ ï¼Œ æ„è¯†åˆ° ï¼ï¼

`IMPORTANT`:_å¦‚æœæ‚¨çš„ç½‘ç»œå…·æœ‰ä»¥ 3 ä½æ•°å­—ï¼ˆè¶…è¿‡ 24 ä¸ªï¼‰ç»“å°¾çš„è®¾å¤‡çš„ IP åœ°å€ï¼Œä¾‹å¦‚ï¼š192.168.100ã€‚`999`ï¼Œæ‚¨å°†æ— æ³•ä»å¤–éƒ¨ç½‘ç»œæ­£ç¡®è·¯ç”±ï¼Œå› ä¸ºåº”ç”¨ 24 ä»…å…è®¸æ•°å­— 1 åˆ° 24ã€‚æ‚¨éœ€è¦æ”¹ä¸º`0`è·¯ç”±è¶…å‡º 24 èŒƒå›´ï¼Œä¾‹å¦‚ï¼š`192.168.100.0/0`_.

æˆ–è€…æ‚¨å¯ä»¥æ›´æ”¹è·¯ç”±å™¨ä¸Šçš„ IP èŒƒå›´ï¼ˆæ ¹æ®æˆ‘çš„ç»éªŒï¼Œæ‚¨å¯èƒ½ä¼šè·å¾—æ›´å¥½çš„é€Ÿåº¦ï¼Œå› ä¸ºå®ƒä¸ä¼šåœ¨ 24 èŒƒå›´å†…è·¯ç”±ä¸å¿…è¦çš„å…è®¸ IP åœ°å€ï¼‰ã€‚

<p align="center">
 <img src="https://i.imgur.com/ZZ4aMUI.jpg" width=750px height=550px>

## IPV6

å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ IPv6ï¼Œå½“è¿æ¥åˆ° wifi æ—¶ï¼Œæ‚¨éœ€è¦è¾“å…¥ WireGuard å…è®¸çš„ IP`fe80::1/0`ä¹Ÿæ˜¯ã€‚ä¾‹å¦‚`192.168.100.0/0, fe80::1/0`

å½“è¿æ¥åˆ° Windows ç”µè„‘ä¸Šçš„ä»¥å¤ªç½‘ç”µç¼†æ—¶ï¼Œæ‚¨éœ€è¦è¾“å…¥`::1`åœ¨â€œInternet åè®®ç‰ˆæœ¬ 6(TCP/IPv6)â€é¦–é€‰ DNS æœåŠ¡å™¨ä¸­çš„ IPv6 åœ°å€ä¸­ã€‚

ç„¶åå»[HTTPS://IP V6leak.com/](https://ipv6leak.com/)ä½ åº”è¯¥çœ‹åˆ°â€œ_æ‚¨çš„ IPv6 æ²¡æœ‰æ³„æ¼_".

# 

<h1 align="left"><a href="https://github.com/trinib/AdGuard-WireGuard-Unbound-Cloudflare/blob/main/Disable-All-IPv6.md"><b>Disable all IPv6</b></a></h2>

# 

## ä½ æ€ä¹ˆçŸ¥é“wireguard vpnæ˜¯å¦çœŸçš„æœ‰æ•ˆï¼Ÿ

ä¸ºäº†**è§†çª—**ä¸‹è½½<a href="https://www.wireshark.org/#download."><b>çº¿é²¨</b></a>

ä¸‹è½½åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¯¥åº”ç”¨ç¨‹åºæ£€æŸ¥åè®®è®¾ç½®ä¸º Wireguard VPN ä½¿ç”¨çš„åè®®çš„æ•°æ®åŒ…ã€‚å½“æ•°æ®åŒ…æµé‡`encrypted`ï¼Œä¾‹å¦‚å¯ä»¥è¿™æ ·è¯»ï¼š

<p align="center">
 <img src="https://i.imgur.com/Tn4M47R.jpg">

ä¸ºäº†**å®‰å“**æ‚¨å¯ä»¥ä½¿ç”¨<a href="https://play.google.com/store/apps/details?id=com.emanuelef.remote_capture&hl=en&gl=US"><b>PCAPdroid</b></a>.æ‚¨åº”è¯¥çœ‹åˆ°æ‰€æœ‰è¿æ¥`closed`å’ŒçŠ¶æ€æ˜¾ç¤ºæ‰€æœ‰åº”ç”¨ç¨‹åºä¸­çš„æ‰€æœ‰ DNS è€Œä¸æ˜¯ä»»ä½• TLS è¿æ¥ï¼ˆæ‰“å¼€å¹¶ä½¿ç”¨ PCAPdroid çš„åº”ç”¨ç¨‹åºè¿›è¡Œæ‰«æï¼‰ã€‚

**[â¬† è¿”å›é¡¶éƒ¨ â¬†](#contents)**

* * *

# 

<h1 align="center"><b><i>Auto Update Pi</b></i> </h1>

-   æ‰“å¼€åä¸º update çš„æ–° sh æ–‡ä»¶å¹¶ä»ä¸­å¤åˆ¶ç²˜è´´æ–‡æœ¬<a href="https://raw.githubusercontent.com/trinib/Adguard-Wireguard-Unbound-Cloudflare/main/update.sh"><b>ğŸ‘‰è¿™é‡ŒğŸ‘ˆ</b></a>


    sudo nano update.sh

-   è®¾ç½®æƒé™


    sudo chmod 700 update.sh

-   é€šè¿‡åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥æ‰“å¼€ cron æ–‡ä»¶`crontab -e`ï¼Œåœ¨cronæ–‡ä»¶åº•éƒ¨å¤åˆ¶ç²˜è´´ä½œä¸šå‘½ä»¤è¡Œå¹¶ä¿å­˜ã€‚


    0 3 * * WED sudo ./update.sh 2>&1 >/home/pi/updatelog

Pi ç°åœ¨å°†åœ¨æ¯å‘¨ä¸‰å‡Œæ™¨ 3 ç‚¹æ›´æ–°ã€‚æˆ–è€…ä½ å¯ä»¥å»[HTTPS://crontab.guru/](https://crontab.guru/)å¹¶è®¾ç½®è‡ªå·±çš„æ—¶é—´è¡¨ã€‚

è°ƒæ•´ pi çš„æ—¥æœŸ/æ—¶åŒºåœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼š

    sudo dpkg-reconfigure tzdata

æˆ–æ‰‹åŠ¨è®¾ç½®

    sudo date -s "25 DEC 2012 11:14:00"

# 

<h1 align="center"><b><i>Log2Ram Install</b></i> </h1>

å¸è½½ RAM çš„æœ€æ˜¾ç€ä¼˜åŠ¿ä¹‹ä¸€æ˜¯å®ƒå¯ä»¥æé«˜æ‚¨çš„**SD å¡çš„æ½œåœ¨ä½¿ç”¨å¯¿å‘½**.
æ—¥å¿—æ–‡ä»¶æ˜¯æ‚¨å®‰è£…çš„å„ç§è½¯ä»¶å†™å…¥æœ€å¤šçš„å†…å®¹ä¹‹ä¸€ã€‚
é€šè¿‡å°†æ–‡ä»¶æ¨é€åˆ° RAMï¼Œæ‚¨å¯ä»¥æ§åˆ¶å°†å®ƒä»¬å†™å…¥ SD å¡çš„é¢‘ç‡ã€‚æ‚¨ä»ç„¶å¯ä»¥è®¿é—® RAM ä¸Šçš„è¿™äº›æ–‡ä»¶ï¼Œå°±åƒå®ƒä»¬ä½äºæ‚¨çš„ SD å¡ä¸Šä¸€æ ·ã€‚

å°†æ­¤è¡Œå¤åˆ¶å¹¶ç²˜è´´åˆ°ç»ˆç«¯ä¸­ï¼š

æ‰‹åŠ¨

    wget https://git.io/log2ram -O Log2Ram-Script.sh && sudo chmod +x Log2Ram-Script.sh && sudo ./Log2Ram-Script.sh

è¦ä¹ˆ

æ·»åŠ  repo æºï¼ˆè‡ªåŠ¨æ›´æ–°ï¼‰

    echo "deb [signed-by=/usr/share/keyrings/azlux-archive-keyring.gpg] http://packages.azlux.fr/debian/ bullseye main" | sudo tee /etc/apt/sources.list.d/azlux.list
    sudo wget -O /usr/share/keyrings/azlux-archive-keyring.gpg  https://azlux.fr/repo.gpg
    sudo apt update
    sudo apt install log2ram

# 

<h1 align="center"><b><i>Turn Off Pi LED Lights</b></i> </h1>

æˆ‘çŒœ LED çš„ç”µæºä¼šå½±å“ä¸å¿…è¦çš„ç”µåŠ›å’Œçƒ­é‡ğŸ¤·ğŸ˜…ã€‚å¦‚æœåªæ˜¯å°†å…¶ç”¨ä½œç½‘ç»œæœåŠ¡å™¨ï¼Œåˆ™æ— è®ºå¦‚ä½•éƒ½ä¸éœ€è¦å®ƒã€‚é€šè¿‡åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥æ‰“å¼€ cron æ–‡ä»¶`crontab -e`ï¼Œåœ¨cronæ–‡ä»¶åº•éƒ¨å¤åˆ¶ç²˜è´´ä½œä¸šå‘½ä»¤è¡Œå¹¶ä¿å­˜ã€‚

ç»¿è‰²çš„

    @reboot echo none | sudo tee /sys/class/leds/led0/trigger

çº¢è‰²çš„

    @reboot echo none | sudo tee /sys/class/leds/led1/trigger

reboot pi.

# 

<h1 align="center"><b><i>Secure Your Raspberry Pi</b></i> </h1>
<p align="center">
<a href="https://gist.github.com/boseji/c9e91ff3bd0b3cfb62a5e260fe505374"><img src="https://i.imgur.com/a9JQVls.png" width=80px height=90px></a>
<p align="center">
<a href="https://gist.github.com/boseji/c9e91ff3bd0b3cfb62a5e260fe505374"><b>LINK</b></a>

<i>ï¼ˆæˆ‘åªæ˜¯ä½¿ç”¨ Fail2Ban å¹¶æ›´æ”¹ SSH ç«¯å£ï¼‰</i>

**[â¬† è¿”å›é¡¶éƒ¨ â¬†](#contents)**

* * *

<p align="center">
<b>ğŸ‰ğŸ‰ THAT'S IT !! ğŸ‰ğŸ‰ YOUR FINISH ğŸ‘ŒğŸ‘Œ
<p align="center">
<b>ANY ISSUES, FIXES OR TIPS TO MAKE THESE PROJECTS BETTER PLEASE CONTRIBUTEğŸ¤–</b>

* * *

<p align="center">
<img src="https://user-images.githubusercontent.com/73097560/115834477-dbab4500-a447-11eb-908a-139a6edaec5c.gif"
<br> 
<br> 
<br> 

<p align="center">
 <img src="https://i.imgur.com/Q07E7SW.gif" width=500px height=30px>

<p align="center">
<a href="https://github.com/trinib/AdGuard-WireGuard-Unbound-Cloudflare/stargazers"><img src="https://reporoster.com/stars/dark/trinib/AdGuard-WireGuard-Unbound-Cloudflare"></a>

<p align="center">
<img src="https://user-images.githubusercontent.com/73097560/115834477-dbab4500-a447-11eb-908a-139a6edaec5c.gif" </p>

# 

## _å­˜å‚¨åº“èµ„æº_

<h5 https://www.raspberrypi.com/documentation/

[HTTPS://GitHub.com/AD guard team/AD guard home/wiki/getting-started](https://github.com/AdguardTeam/AdGuardHome/wiki/Getting-Started)

[HTTPS://developers.cloud flare.com/](https://developers.cloudflare.com/)

[HTTPS://docs.çš®-hole.net/guides/DNS/cloud flareçš„/](https://docs.pi-hole.net/guides/dns/cloudflared/)

[HTTPS://docs.çš®-hole.net/guides/DNS/unbound/](https://docs.pi-hole.net/guides/dns/unbound/)

[HTTPS://NL net labs.å“ªé‡Œ/documentation/unbound/unbound.conf/](https://nlnetlabs.nl/documentation/unbound/unbound.conf/)

[HTTPS://DNS privacy.org/DNS_privacy_clients/](https://dnsprivacy.org/dns_privacy_clients/)

[HTTPS://GitHub.com/æŒ‰Uçš„EP ND/pi hole-unbound](https://github.com/anudeepND/pihole-unbound)

[HTTPS://GitHub.com/ç”³é€š/unbound.conf.çš„](https://github.com/stong/unbound.conf.d)

[HTTPS://GitHub.com/NYR/wire guard-install](https://github.com/Nyr/wireguard-install)

[HTTPS://GitHub.com/é˜¿æ­£é™†ç»­/log2RAM](https://github.com/azlux/log2ram)

* * *

<h4

å¸¸è§é—®é¢˜ï¼š<a href="https://github.com/trinib/AdGuard-WireGuard-Unbound-Cloudflare/discussions/17"><b>å…³è”</b></a>
